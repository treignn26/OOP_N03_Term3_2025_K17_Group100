<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Qu·∫£n l√Ω Kh√°ch h√†ng</title>
    <link
      rel="stylesheet"
      th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css}"
    />
  </head>
  <body class="container py-4">
    <h2 class="text-center mb-4">üë§ Qu·∫£n l√Ω Kh√°ch h√†ng</h2>

    <!-- B·∫£ng danh s√°ch -->
    <table class="table table-bordered text-center">
      <thead class="table-secondary">
        <tr>
          <th>M√£ KH</th>
          <th>H·ªç t√™n</th>
          <th>Email</th>
          <th>SƒêT</th>
          <th>ƒê·ªãa ch·ªâ</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="c : ${customers}">
          <td th:text="${c.code}">C01</td>
          <td th:text="${c.fullName}">Nguy·ªÖn A</td>
          <td th:text="${c.email}">a@gmail.com</td>
          <td th:text="${c.phone}">0909999999</td>
          <td th:text="${c.address}">HCM</td>
          <td>
            <!-- Form xo√° -->
            <form
              th:action="@{/customers/delete}"
              method="post"
              th:object="${c}"
              style="display: inline"
            >
              <input type="hidden" name="code" th:value="${c.code}" />
              <button class="btn btn-sm btn-danger">Xo√°</button>
            </form>
          </td>
        </tr>
        <tr th:if="${customers.isEmpty()}">
          <td colspan="6" class="text-muted">Ch∆∞a c√≥ kh√°ch h√†ng</td>
        </tr>
      </tbody>
    </table>

    <!-- Th√¥ng b√°o l·ªói chung -->
    <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

    <!-- Form TH√äM -->
    <h4 class="mt-4">Th√™m kh√°ch h√†ng</h4>
    <form
      th:action="@{/customers/add}"
      method="post"
      th:object="${customer}"
      class="row g-2"
    >
      <div class="col">
        <input th:field="*{code}" class="form-control" placeholder="M√£ KH" />
        <div class="text-danger" th:errors="*{code}"></div>
      </div>
      <div class="col">
        <input
          th:field="*{fullName}"
          class="form-control"
          placeholder="H·ªç t√™n"
        />
        <div class="text-danger" th:errors="*{fullName}"></div>
      </div>
      <div class="col">
        <input th:field="*{email}" class="form-control" placeholder="Email" />
        <div class="text-danger" th:errors="*{email}"></div>
      </div>
      <div class="col">
        <input th:field="*{phone}" class="form-control" placeholder="SƒêT" />
        <div class="text-danger" th:errors="*{phone}"></div>
      </div>
      <div class="col">
        <input
          th:field="*{address}"
          class="form-control"
          placeholder="ƒê·ªãa ch·ªâ"
        />
      </div>
      <div class="col-auto">
        <button class="btn btn-success">Th√™m</button>
      </div>
    </form>
  </body>
</html>
